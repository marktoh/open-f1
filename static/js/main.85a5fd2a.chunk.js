(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{39:function(e,t,a){e.exports=a(73)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(14),c=a.n(o),l=(a(44),a(45),a(9)),i=a(10),s=a(12),u=a(11),m=a(13),p=(a(46),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Header"},r.a.createElement("div",{className:"Header-Title"},"Formula 1"),r.a.createElement("div",{className:"Header-Description"},"Season Overview"))}}]),t}(r.a.Component)),d=a(23),f=a.n(d),h=a(37),v=a(77),b=a(78),E=a(74),g=a(75),y=a(76),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidUpdate=function(){a.props.popup.open&&setTimeout((function(){return a.markerRef.current.leafletElement.openPopup()}),250)},a.componentDidMount=function(){a.props.popup&&a.props.popup.open&&a.markerRef.current.leafletElement.openPopup()},a.markerRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.lat,a=e.long,n=e.popup,o=e.tooltip;return r.a.createElement(E.a,{ref:this.markerRef,position:[t,a]},n&&n.content&&r.a.createElement(g.a,null,n.content),o&&o.content&&r.a.createElement(y.a,{permanent:o.permanent},o.content))}}]),t}(r.a.Component),O=(a(66),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).isMapCenterDefined=function(){return a.props.lat&&a.props.long},a.getCenter=function(){return a.isMapCenterDefined()?[a.props.lat,a.props.long]:null},a.getBounds=function(){if(!a.props.markers||a.isMapCenterDefined())return null;var e=window.L,t=a.props.markers&&a.props.markers.map((function(e){return[e.lat,e.long]}));return e.latLngBounds(t)},a.renderMarkers=function(){return a.props.markers&&a.props.markers.map((function(e,t){return r.a.createElement(k,Object.assign({key:t},e))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{center:this.getCenter(),zoom:this.props.zoom},r.a.createElement(b.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),this.renderMarkers())}}]),t}(r.a.Component)),j=(a(67),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).enableZebraStriping=function(e){return e.length>10},a.createClassNames=function(){var e=a.props.resource.data,t=[];return a.enableZebraStriping(e)&&t.push("zebra-stripe"),t.join(" ")},a.renderBody=function(e){return r.a.createElement("tbody",null,e.map((function(e,t){return r.a.createElement("tr",{key:t,onClick:function(){return a.props.onRowClick(e.round)}},r.a.createElement("td",null,e.round),r.a.createElement("td",null,e.raceName),r.a.createElement("td",null,e.circuitName),r.a.createElement("td",null,e.country))})))},a.renderHead=function(e){return r.a.createElement("thead",null,r.a.createElement("tr",null,e.map((function(e){return r.a.createElement("th",{key:e.name},e.name)}))))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.resource,a=e.title,n=t.data,o=t.schema.fields;return r.a.createElement("div",{className:"Table"},a&&r.a.createElement("div",{className:"Table-Header"},r.a.createElement("div",{className:"Table-Header-Title"},a)),r.a.createElement("div",{className:"Table-Body"},r.a.createElement("table",{className:this.createClassNames()},this.renderHead(o),this.renderBody(n))))}}]),t}(r.a.Component)),N=a(24),C=a.n(N),w=function(e,t){return e&&t?C()("".concat(e,"T").concat(t)).format("LLLL"):t?void 0:C()(e).format("LL")},R=(a(69),function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).componentDidUpdate=function(e,t){t.year!==a.state.year&&f.a.get("https://ergast.com/api/f1/".concat(a.state.year,".json")).then((function(e){return a.setState({data:e.data})}))},a.componentDidMount=function(){f.a.get("https://ergast.com/api/f1/".concat(a.state.year,".json")).then((function(e){return a.setState({data:e.data})}))},a.onSelect=function(e){a.setState({year:e.value,round:1})},a.handleShowClick=function(){return a.setState({showRaces:!a.state.showRaces})},a.onRowClick=function(e){return a.setState({round:e})},a.renderTable=function(){if(a.state.data.length<=0)return null;var e={schema:{fields:[{name:"round",type:"string"},{name:"raceName",type:"string"}]},data:a.state.data.MRData.RaceTable.Races.map((function(e){return{round:e.round,raceName:e.raceName}}))};return r.a.createElement(j,{resource:e,onRowClick:a.onRowClick})},a.getLatLng=function(){var e=a.state.data.MRData.RaceTable.Races[a.state.round-1].Circuit.Location;return{lat:e.lat,long:e.long}},a.renderMap=function(){if(a.state.data.length<=0)return r.a.createElement("div",{className:"Body-Placeholder"});var e=a.state.data.MRData.RaceTable.Races.map((function(e){var t=e.round,n=e.raceName,o=e.date,c=e.time,l=e.Circuit,i=l.circuitName,s=l.Location,u=s.lat,m=s.long,p=s.locality,d=s.country;return{lat:u,long:m,popup:{content:r.a.createElement("div",null,r.a.createElement("div",{style:{fontVariant:"all-petite-caps",fontSize:12,color:"#4e5a5f",textDecoration:"underline"}},"Round ",t),r.a.createElement("div",{style:{fontVariant:"all-petite-caps",fontSize:18,color:"#4e5a5f",fontWeight:600,letterSpacing:1,padding:10}},n),r.a.createElement("div",{style:{fontSize:12,color:"#4e5a5f",textAlign:"right"}},i),r.a.createElement("div",{style:{fontSize:10,color:"#4e5a5f",textAlign:"right"}},p,", ",d),r.a.createElement("div",{style:{fontSize:10,color:"#4e5a5f",textAlign:"right"}},w(o,c))),open:"".concat(a.state.round)===t}}}));return r.a.createElement("div",{className:"Map-Overview"},r.a.createElement("div",{className:"Map-Overview-Body"},r.a.createElement(O,Object.assign({},a.getLatLng(),{markers:e,zoom:6}))))},a.state={year:(new Date).getFullYear(),round:1,data:[],showRaces:!1};for(var n=[],o=1950;o<=(new Date).getFullYear();o++)n.push({value:o,label:o});return a.options=n.reverse(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Body"},r.a.createElement("div",{className:"Body-Body"},r.a.createElement("div",{className:"Body-Body-Column"},this.renderMap()),r.a.createElement("div",{className:"Body-Body-Column"},r.a.createElement("div",{className:"Sidebar"},r.a.createElement("div",{className:"Search"},r.a.createElement(h.a,{className:"Search-Dropdown",value:{label:this.state.year,value:this.state.year},options:this.options,onChange:this.onSelect,placeholder:"Select a year",maxMenuHeight:300,menuPlacement:"auto"})),this.renderTable()))))}}]),t}(r.a.Component)),S=a(25),M=(a(72),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onIconClick=function(e){window.open(e,"_blank")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"Footer-Left"},r.a.createElement("span",{className:"Footer-Insignia"},"Property of Mumbo Inc.")),r.a.createElement("div",{className:"Footer-Right"},r.a.createElement("div",{className:"Footer-SocialMedia"},r.a.createElement(S.b,{onClick:function(){return e.onIconClick("https://www.linkedin.com/in/mark-toh/")}}),r.a.createElement(S.a,{onClick:function(){return e.onIconClick("https://github.com/marktoh")}}))))}}]),t}(r.a.Component));var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(R,null),r.a.createElement(M,null))};c.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.85a5fd2a.chunk.js.map